"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[833],{833:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(433),a=r(861),i=r(439),s=r(757),c=r.n(s),o=r(942),u=r(413),l=r(791),m="movie-search_group__jCj74",p="movie-search_label__zJBt7",f="movie-search_input__huzMw",v="movie-search_btn__MX6y6",_=r(184),h=function(e){var t=e.onSubmit,r=(0,l.useState)({search:""}),n=(0,i.Z)(r,2),a=n[0],s=n[1],c=(0,l.useRef)(null);(0,l.useEffect)((function(){c.current.focus()}),[]);var h=function(){s({search:""})},d=(0,l.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}()}),[]);return(0,_.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),t((0,u.Z)({},a)),h()},children:[(0,_.jsxs)("label",{htmlFor:d,className:p,children:["Let's find movies"," "]}),(0,_.jsx)("input",{className:f,id:d,ref:c,name:"search",value:a.search,onChange:function(e){var t=e.target,r=t.name,n=t.value;s((0,u.Z)((0,u.Z)({},a),{},(0,o.Z)({},r,n)))},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search",required:!0}),(0,_.jsx)("button",{className:v,type:"submit",children:(0,_.jsx)("span",{children:"Search"})})]})},d={text:"movies-page_text__mQWJV",back:"movies-page_back__2esa2",title:"movies-page_title__Ss7Ij",list:"movies-page_list__yMELz",itemWrap:"movies-page_itemWrap__EiRdD",item:"movies-page_item__9jXPv",img:"movies-page_img__kJrtY",loadMore:"movies-page_loadMore__vGA2E"},g=r(87),x=r(713),b=r(583),j=r(119),Z="button_btn__HeAxz",k=function(e){var t=e.onClick,r=e.type,n=void 0===r?"submit":r,a=e.children;return(0,_.jsx)("button",{onClick:t,type:n,className:Z,children:a})},w=function(){var e=(0,l.useState)([]),t=(0,i.Z)(e,2),r=t[0],s=t[1],o=(0,l.useState)(!1),u=(0,i.Z)(o,2),m=u[0],p=u[1],f=(0,l.useState)(null),v=(0,i.Z)(f,2),Z=v[0],w=v[1],y=(0,g.lr)(),S=(0,i.Z)(y,2),N=S[0],C=S[1],U=N.get("search"),M=Number(N.get("page"));(0,l.useEffect)((function(){if(U){var e=function(){var e=(0,a.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,(0,x.V0)(U,M);case 4:t=e.sent,r=t.data,s((function(e){var t;return null!==(t=r.results)&&void 0!==t&&t.length?[].concat((0,n.Z)(e),(0,n.Z)(r.results)):e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w(e.t0);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[U,M,N]);var W=Boolean(r.length),z=Boolean(r.length%20===0);return(0,_.jsxs)("div",{children:[(0,_.jsx)(h,{onSubmit:function(e){var t=e.search;C({search:t,page:1}),s([])}}),Z&&(0,_.jsx)("p",{className:d.error,children:Z}),m&&(0,_.jsx)(j.Z,{}),W&&(0,_.jsx)(b.Z,{movies:r}),W&&z&&(0,_.jsx)("div",{className:d.loadMore,children:(0,_.jsx)(k,{className:d.button,onClick:function(){C({search:U,page:M+1})},type:"button",children:"Load more"})})]})}},713:function(e,t,r){r.d(t,{Df:function(){return c},V0:function(){return u},YJ:function(){return o},tx:function(){return m},zv:function(){return l}});var n=r(861),a=r(757),i=r.n(a),s=r(294).Z.create({baseURL:"".concat("https://api.themoviedb.org/3/"),params:{api_key:"".concat("a5e80a241b45048d42e42bcf67dfe2f1")}}),c=function(){return s.get("trending/movie/day")},o=function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.get("movie/".concat(t,"?language=en-US")),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.get("/search/movie?query=".concat(t,"}&include_adult=false&page=").concat(r,"&language=en-US")),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.get("movie/".concat(t,"/credits?language=en-US")),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.get("movie/".concat(t,"/reviews?language=en-US&page=1")),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},583:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(689),a=r(87),i={list:"movies-list_list__QsEHr",error:"movies-list_error__CTpjY",itemWrap:"movies-list_itemWrap__7z1Qj",item:"movies-list_item__by-6a",img:"movies-list_img__AahWT",title:"movies-list_title__X8HMe"},s=r(184),c=function(e){var t=e.movies,r=(0,n.TH)(),c=t.map((function(e){var t=e.id,n=e.title,c=e.original_name,o=e.poster_path;return(0,s.jsx)("li",{className:i.item,children:(0,s.jsx)("div",{className:i.itemWrap,children:(0,s.jsxs)(a.rU,{className:i.title,to:"/movies/".concat(t),state:{from:r},children:[(0,s.jsx)("img",{className:i.img,src:o?"https://image.tmdb.org/t/p/w300"+o:"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=300x240",alt:n}),c||n]})})},t)}));return(0,s.jsx)("div",{className:i.container,children:(0,s.jsx)("ul",{className:i.list,children:c})})}}}]);
//# sourceMappingURL=833.0f816986.chunk.js.map