{"version":3,"file":"static/js/833.0f816986.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesSearch/movie-search.module.css?b15d","components/MoviesSearch/MovieSearch.jsx","../node_modules/nanoid/index.browser.js","webpack://react-homework-template/./src/Pages/MoviesPage/movies-page.module.css?5913","webpack://react-homework-template/./src/components/Button/button.module.css?6dda","components/Button/Button.jsx","Pages/MoviesPage/MoviesPage.jsx","api/api.js","webpack://react-homework-template/./src/components/MoviesList/movies-list.module.css?3466","components/MoviesList/MoviesList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"group\":\"movie-search_group__jCj74\",\"label\":\"movie-search_label__zJBt7\",\"input\":\"movie-search_input__huzMw\",\"btn\":\"movie-search_btn__MX6y6\"};","import { useState, useEffect, useMemo, useRef } from 'react';\nimport { nanoid } from 'nanoid';\n\nimport styles from './movie-search.module.css';\n\nconst MoviesSearch = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    reset();\n  };\n\n  const reset = () => {\n    setState({\n      search: '',\n    });\n  };\n\n  const searchId = useMemo(() => nanoid(), []);\n\n  return (\n  \n\n      <form className={styles.group} onSubmit={handleSubmit}>\n        <label htmlFor={searchId} className={styles.label}>\n          Let's find movies{' '}\n        </label>\n        <input\n          className={styles.input}\n          id={searchId}\n          ref={inputRef}\n          name=\"search\"\n          value={state.search}\n          onChange={handleChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search\"\n          required\n        />\n        <button className={styles.btn} type=\"submit\">\n          <span>Search</span>\n        </button>\n      </form>\n   \n  );\n};\n\nexport default MoviesSearch;\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"movies-page_text__mQWJV\",\"back\":\"movies-page_back__2esa2\",\"title\":\"movies-page_title__Ss7Ij\",\"list\":\"movies-page_list__yMELz\",\"itemWrap\":\"movies-page_itemWrap__EiRdD\",\"item\":\"movies-page_item__9jXPv\",\"img\":\"movies-page_img__kJrtY\",\"loadMore\":\"movies-page_loadMore__vGA2E\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"button_btn__HeAxz\"};","import styles from \"./button.module.css\";\n\nconst Button = ({ onClick, type = \"submit\", children }) => {\n    return <button onClick={onClick} type={type} className={styles.btn}>{children}</button>\n}\n\nexport default Button;","import MoviesSearch from 'components/MoviesSearch/MovieSearch';\nimport styles from './movies-page.module.css';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from 'api/api';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Loader from 'components/Loader/Loader';\nimport Button from 'components/Button/Button';\n\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  let page = Number(searchParams.get('page'));\n\n\n\n  useEffect(() => {\n    if (!search) return; \n\n\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await getSearchMovies(search, page);\n        setMovies(prevMovies =>\n          data.results?.length ? [...prevMovies, ...data.results] : prevMovies\n        );\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // if (search && (page === 1 || !page)) {\n      fetchMovies();\n    // }\n  }, [search, page, searchParams]);\n  \n  const handleSearch = ({ search }) => {\n    setSearchParams({ search, page: 1 });\n    setMovies([]);\n  };\n  \n  // console.log(typeof(page));\n  // const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n const loadMore = () => {\n   const nextPage = page + 1;\n   // console.log('nextPage=', nextPage);\n   // console.log('Index-nextPage=', typeof nextPage);\n   setSearchParams({ search, page: nextPage });\n  //  getSearchMovies(search, page);\n };\n  const isMovies = Boolean(movies.length);\n  const isMoreMovies = Boolean(movies.length % 20 === 0);\n\n  return (\n    <div>\n      <MoviesSearch onSubmit={handleSearch} />\n      {error && <p className={styles.error}>{error}</p>}\n      {loading && <Loader />}\n      {isMovies && <MoviesList movies={movies} />}\n      {isMovies && isMoreMovies && (\n        <div className={styles.loadMore}>\n          <Button className={styles.button} onClick={loadMore} type=\"button\">\n            Load more\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\nexport default MoviesPage;\n","\nimport axios from 'axios';\n\nconst API_KEY = 'a5e80a241b45048d42e42bcf67dfe2f1';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst instance = axios.create({\n  baseURL: `${BASE_URL}`,\n  params: {\n    api_key: `${API_KEY}`,\n  },\n});\n\n\nexport const getTrendingMovies = () => {\n  return instance.get('trending/movie/day');\n};\n\n\nexport const getMoviesById = async id => {\n  const movies = instance.get(`movie/${id}?language=en-US`);\n  return movies;\n};\n\n\nexport const getSearchMovies = async (search, page) => {\n  const movies = instance.get(\n    // `search/movie?include_adult=false&language=en-US&page=1&query=${search}`\n    `/search/movie?query=${search}}&include_adult=false&page=${page}&language=en-US`\n  );\n  return movies;\n};\n\n\nexport const getMovieCredits = async id => {\n  const movies = instance.get(`movie/${id}/credits?language=en-US`);\n  return movies;\n};\n\n\nexport const getMovieReviews = async id => {\n  const movies = instance.get(`movie/${id}/reviews?language=en-US&page=1`);\n  return movies;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movies-list_list__QsEHr\",\"error\":\"movies-list_error__CTpjY\",\"itemWrap\":\"movies-list_itemWrap__7z1Qj\",\"item\":\"movies-list_item__by-6a\",\"img\":\"movies-list_img__AahWT\",\"title\":\"movies-list_title__X8HMe\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport styles from './movies-list.module.css';\n\n\nconst BASE_URL = 'https://image.tmdb.org/t/p/w300';\nconst defaultImg =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=300x240';\n\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  const elements = movies.map(({ id, title, original_name, poster_path }) => (\n    <li key={id} className={styles.item}>\n      <div className={styles.itemWrap}>\n        <Link\n          className={styles.title}\n          to={`/movies/${id}`}\n          state={{ from: location }}\n        >\n          <img\n            className={styles.img}\n            src={poster_path ? BASE_URL + poster_path : defaultImg}\n            alt={title}\n          />\n\n          {original_name || title}\n        </Link>\n      </div>\n    </li>\n  ));\n\n  return (\n    <div className={styles.container}>\n      <ul className={styles.list}>{elements}</ul>\n    </div>\n  );\n};\n\nexport default MoviesList;"],"names":["_ref","onSubmit","_useState","useState","search","_useState2","_slicedToArray","state","setState","inputRef","useRef","useEffect","current","focus","reset","searchId","useMemo","size","arguments","length","undefined","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","nanoid","_jsxs","className","styles","e","preventDefault","_objectSpread","children","htmlFor","_jsx","ref","name","value","onChange","_ref2","target","_defineProperty","type","autoComplete","autoFocus","placeholder","required","onClick","_ref$type","movies","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","page","Number","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getSearchMovie","data","_context","prev","next","getSearchMovies","sent","prevMovies","_data$results","results","concat","_toConsumableArray","t0","finish","stop","apply","isMovies","Boolean","isMoreMovies","MoviesSearch","Loader","MoviesList","Button","instance","axios","baseURL","params","api_key","getTrendingMovies","getMoviesById","abrupt","_x","_callee2","_context2","_x2","_x3","getMovieCredits","_ref3","_callee3","_context3","_x4","getMovieReviews","_ref4","_callee4","_context4","_x5","location","useLocation","elements","map","title","original_name","poster_path","Link","to","from","src","alt"],"sourceRoot":""}