{"version":3,"file":"static/js/209.c6237cc7.chunk.js","mappings":"8PACA,EAAwB,4BAAxB,EAA4D,4BAA5D,EAAgG,4BAAhG,EAAkI,0B,SCwFlI,EAjFoB,SAAHA,GAAsB,IAAhBC,EAAQD,EAARC,SAErBC,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,GAA0BL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA8BT,EAAAA,EAAAA,WAAS,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAb,EAAAA,EAAAA,GAAAW,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAE9BG,EAASF,EAAaG,IAAI,UAE1BC,GAAWC,EAAAA,EAAAA,QAAO,OAExBC,EAAAA,EAAAA,YAAU,WACRF,EAASG,QAAQC,QACjBpB,EAAWc,EACb,GAAG,CAACA,KAkBJI,EAAAA,EAAAA,YAAU,WACR,GAAKnB,EAAL,CAEA,IAAMsB,EAAa,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEKC,EAAAA,EAAAA,IAAgBhC,GAAS,KAAD,EAAA2B,EAAAE,EAAAI,KAAvCL,EAAID,EAAJC,KACRjC,EAASiC,EAAK5B,SAAS6B,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAEvBxB,EAASwB,EAAAK,GAAMC,SAAS,QAEN,OAFMN,EAAAC,KAAA,GAExBrB,GAAW,GAAOoB,EAAAO,OAAA,6BAAAP,EAAAQ,OAAA,GAAAX,EAAA,wBAErB,kBATkB,OAAAH,EAAAe,MAAA,KAAAC,UAAA,KAWnBjB,GAboB,CActB,GAAG,CAACtB,EAASL,IAEb,IAAM6C,GAAWC,EAAAA,EAAAA,UAAQ,kBCtCP,WAAH,IAAIC,EAAIH,UAAAI,OAAA,QAAAC,IAAAL,UAAA,GAAAA,UAAA,GAAG,GAAE,OAC5BM,OAAOC,gBAAgB,IAAIC,WAAWL,IAAOM,QAAO,SAACC,EAAIC,GAWvD,OARED,IAFFC,GAAQ,IACG,GACHA,EAAKC,SAAS,IACXD,EAAO,IACTA,EAAO,IAAIC,SAAS,IAAIC,cACtBF,EAAO,GACV,IAEA,IAGV,GAAG,GAAG,CDyByBG,EAAQ,GAAE,IAEzC,OACEC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CACG/C,IAAWgD,EAAAA,EAAAA,KAACC,EAAAA,EAAM,IAClBrD,IAASkD,EAAAA,EAAAA,MAAA,KAAAC,SAAA,CAAG,UAAQnD,MAErBkD,EAAAA,EAAAA,MAAA,QAAMI,UAAWC,EAAchE,SAjCd,SAAAiE,GACnBA,EAAEC,iBACF5D,EAAWc,GAIXE,EAASG,QAAQ0C,MAAQ,EAC3B,EA0B0DP,SAAA,EACpDD,EAAAA,EAAAA,MAAA,SAAOS,QAASvB,EAAUkB,UAAWC,EAAaJ,SAAA,CAAC,oBAC/B,QAEpBC,EAAAA,EAAAA,KAAA,SACEE,UAAWC,EACXV,GAAIT,EACJwB,IAAK/C,EACLgD,KAAK,SACLH,MAAO9D,EACPkE,SAjDa,SAAHC,GAAoB,IAC5BL,EADoBK,EAANC,OACdN,MAERhD,EAAgB,CAAEC,OAAQ+C,GAC5B,EA8CQO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,SACZC,UAAQ,KAEVjB,EAAAA,EAAAA,KAAA,UAAQE,UAAWC,EAAYU,KAAK,SAAQd,UAC1CC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,kBAKhB,EEtFA,GAAgB,KAAO,0BAA0B,KAAO,0BAA0B,MAAQ,2BAA2B,KAAO,0BAA0B,SAAW,8BAA8B,KAAO,0BAA0B,IAAM,0B,SCgDtO,EAxCmB,WACjB,IAAA3D,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvC8E,EAAS5E,EAAA,GAAE6E,EAAY7E,EAAA,GACxB8E,GAAWC,EAAAA,EAAAA,MA0BjB,OACEvB,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAAA,KAAYJ,SAAA,EAC1BC,EAAAA,EAAAA,KAACsB,EAAW,CAACnF,SAAUgF,KACvBnB,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAAA,KAAYJ,SACxBmB,EAAU/B,OA3BR+B,EAAUK,KAAI,SAAArF,GAAgD,IAA7CuD,EAAEvD,EAAFuD,GAAI+B,EAAKtF,EAALsF,MAAOC,EAAavF,EAAbuF,cAAeC,EAAWxF,EAAXwF,YAChD,OACE1B,EAAAA,EAAAA,KAAA,MAAaE,UAAWC,EAAAA,KAAYJ,UAClCC,EAAAA,EAAAA,KAAA,OAAKE,UAAWC,EAAAA,SAAgBJ,UAC9BD,EAAAA,EAAAA,MAAC6B,EAAAA,GAAI,CACHzB,UAAWC,EAAAA,MACXyB,GAAE,WAAAC,OAAapC,GACfqC,MAAO,CAAEC,KAAMX,GAAWrB,SAAA,EAE1BC,EAAAA,EAAAA,KAAA,OACEE,UAAWC,EAAAA,IACX6B,IAAKN,EApBJ,kCAoB6BA,EAlB3C,6EAmBaO,IAAKT,IAGNC,GAAiBD,QAbf/B,EAkBb,IASQ,SAKZ,C,sLC1CMyC,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAQ,GAADP,OAHQ,iCAIfQ,OAAQ,CACNC,QAAQ,GAADT,OANK,uCAWHU,EAAoB,WAC/B,OAAOL,EAAS1E,IAAI,qBACtB,EAGagF,EAAa,eAAAtG,GAAA8B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMuB,GAAE,IAAAgD,EAAA,OAAAxE,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACuB,OAApDkE,EAASP,EAAS1E,IAAI,SAADqE,OAAUpC,EAAE,oBAAkBpB,EAAAqE,OAAA,SAClDD,GAAM,wBAAApE,EAAAQ,OAAA,GAAAX,EAAA,KACd,gBAHyByE,GAAA,OAAAzG,EAAA4C,MAAA,KAAAC,UAAA,KAMbP,EAAe,eAAAmC,GAAA3C,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2E,EAAMrF,GAAM,IAAAkF,EAAA,OAAAxE,IAAAA,MAAA,SAAA4E,GAAA,cAAAA,EAAAvE,KAAAuE,EAAAtE,MAAA,OAGvC,OAFIkE,EAASP,EAAS1E,IAAI,gEAADqE,OACuCtE,IACjEsF,EAAAH,OAAA,SACMD,GAAM,wBAAAI,EAAAhE,OAAA,GAAA+D,EAAA,KACd,gBAL2BE,GAAA,OAAAnC,EAAA7B,MAAA,KAAAC,UAAA,KAQfgE,EAAe,eAAAhF,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA+E,EAAMvD,GAAE,IAAAgD,EAAA,OAAAxE,IAAAA,MAAA,SAAAgF,GAAA,cAAAA,EAAA3E,KAAA2E,EAAA1E,MAAA,OAC6B,OAA5DkE,EAASP,EAAS1E,IAAI,SAADqE,OAAUpC,EAAE,4BAA0BwD,EAAAP,OAAA,SAC1DD,GAAM,wBAAAQ,EAAApE,OAAA,GAAAmE,EAAA,KACd,gBAH2BE,GAAA,OAAAnF,EAAAe,MAAA,KAAAC,UAAA,KAMfoE,EAAe,eAAAC,GAAApF,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAoF,EAAM5D,GAAE,IAAAgD,EAAA,OAAAxE,IAAAA,MAAA,SAAAqF,GAAA,cAAAA,EAAAhF,KAAAgF,EAAA/E,MAAA,OACoC,OAAnEkE,EAASP,EAAS1E,IAAI,SAADqE,OAAUpC,EAAE,mCAAiC6D,EAAAZ,OAAA,SACjED,GAAM,wBAAAa,EAAAzE,OAAA,GAAAwE,EAAA,KACd,gBAH2BE,GAAA,OAAAH,EAAAtE,MAAA,KAAAC,UAAA,I,mECtC5B,GAAiB,E,SCmBjB,EAjBe,WACX,OACIe,EAAAA,EAAAA,MAAA,OAAKI,UAAWC,EAAAA,OAAcJ,SAAA,EAC1BC,EAAAA,EAAAA,KAACwD,EAAAA,GAAK,CAChBC,OAAO,KACPC,MAAM,KACNC,OAAO,IACPC,MAAM,QACNC,UAAU,UACVC,cAAY,EACZC,cAAY,IACZ,MAGF,C","sources":["webpack://react-homework-template/./src/components/MoviesSearch/movie-search.module.css?b15d","components/MoviesSearch/MovieSearch.jsx","../node_modules/nanoid/index.browser.js","webpack://react-homework-template/./src/Pages/MoviesPage/movies-page.module.css?5913","Pages/MoviesPage/MoviesPage.jsx","api/api.js","components/Loader/loader.module.css","components/Loader/Loader.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"group\":\"movie-search_group__jCj74\",\"label\":\"movie-search_label__zJBt7\",\"input\":\"movie-search_input__huzMw\",\"btn\":\"movie-search_btn__MX6y6\"};","import { useState, useEffect, useMemo, useRef } from 'react';\nimport { getSearchMovies } from 'api/api';\nimport { useSearchParams } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport Loader from 'components/Loader/Loader';\n\nimport styles from './movie-search.module.css';\n\nconst MovieSearch = ({ onSubmit }) => {\n  // const [search, setSearch] = useState('');\n  const [results, setResults] = useState('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    setResults(search);\n  }, [search]);\n\n\n  const handleChange = ({ target }) => {\n    const { value } = target;\n    // setSearch(value);\n    setSearchParams({ search: value });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setResults(search);\n    // setSearchParams({ search });\n    // setSearch('');\n    // e.target.reset();\n    inputRef.current.value = '';\n  };\n\n  useEffect(() => {\n    if (!results) return;\n\n    const getMoviesList = async () => {\n      try {\n        const { data } = await getSearchMovies(results);\n        onSubmit(data.results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getMoviesList();\n  }, [results, onSubmit]);\n  \n  const searchId = useMemo(() => nanoid(), []);\n\n  return (\n    <div>\n      {loading && <Loader />}\n      {error && <p>Error: {error}</p>}\n\n      <form className={styles.group} onSubmit={handleSubmit}>\n        <label htmlFor={searchId} className={styles.label}>\n          Let's find movies{' '}\n        </label>\n        <input\n          className={styles.input}\n          id={searchId}\n          ref={inputRef}\n          name=\"search\"\n          value={results}\n          onChange={handleChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search\"\n          required\n        />\n        <button className={styles.btn} type=\"submit\">\n          <span>Search</span>\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default MovieSearch;\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"movies-page_text__mQWJV\",\"back\":\"movies-page_back__2esa2\",\"title\":\"movies-page_title__Ss7Ij\",\"list\":\"movies-page_list__yMELz\",\"itemWrap\":\"movies-page_itemWrap__EiRdD\",\"item\":\"movies-page_item__9jXPv\",\"img\":\"movies-page_img__kJrtY\"};","import MovieSearch from 'components/MoviesSearch/MovieSearch';\nimport styles from './movies-page.module.css';\nimport { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst BASE_URL = 'https://image.tmdb.org/t/p/w300';\n const defaultImg =\n   'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=300x240';\n\nconst MoviesPage = () => {\n  const [itemMovie, setItemMovie] = useState([]);\n  const location = useLocation();\n\n  const renderMovieList = () => {\n    return itemMovie.map(({ id, title, original_name, poster_path }) => {\n      return (\n        <li key={id} className={styles.item}>\n          <div className={styles.itemWrap}>\n            <Link\n              className={styles.title}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              <img\n                className={styles.img}\n                src={poster_path ? BASE_URL + poster_path : defaultImg}\n                alt={title}\n              />\n\n              {original_name || title}\n            </Link>\n          </div>\n        </li>\n      );\n    });\n  };\n\n  return (\n    <div className={styles.wrap}>\n      <MovieSearch onSubmit={setItemMovie} />\n      <ol className={styles.list}>\n        {itemMovie.length\n          ? renderMovieList()\n          : null}\n      </ol>\n      \n    </div>\n  );\n};\nexport default MoviesPage;\n","\nimport axios from 'axios';\n\nconst API_KEY = 'a5e80a241b45048d42e42bcf67dfe2f1';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nconst instance = axios.create({\n  baseURL: `${BASE_URL}`,\n  params: {\n    api_key: `${API_KEY}`,\n  },\n});\n\n\nexport const getTrendingMovies = () => {\n  return instance.get('trending/movie/day');\n};\n\n\nexport const getMoviesById = async id => {\n  const movies = instance.get(`movie/${id}?language=en-US`);\n  return movies;\n};\n\n\nexport const getSearchMovies = async search => {\n  const movies = instance.get(\n    `search/movie?include_adult=false&language=en-US&page=1&query=${search}`\n  );\n  return movies;\n};\n\n\nexport const getMovieCredits = async id => {\n  const movies = instance.get(`movie/${id}/credits?language=en-US`);\n  return movies;\n};\n\n\nexport const getMovieReviews = async id => {\n  const movies = instance.get(`movie/${id}/reviews?language=en-US&page=1`);\n  return movies;\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","import { Audio } from 'react-loader-spinner';\nimport styles from './loader.module.css';\n\nconst Loader = () => {\n    return (\n        <div className={styles.loader}>\n            <Audio\n  height=\"80\"\n  width=\"80\"\n  radius=\"9\"\n  color=\"green\"\n  ariaLabel=\"loading\"\n  wrapperStyle\n  wrapperClass\n/>;\n        </div>\n    )\n}\n\n\nexport default Loader;"],"names":["_ref","onSubmit","_useState","useState","_useState2","_slicedToArray","results","setResults","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","search","get","inputRef","useRef","useEffect","current","focus","getMoviesList","_ref3","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getSearchMovie","data","_context","prev","next","getSearchMovies","sent","t0","message","finish","stop","apply","arguments","searchId","useMemo","size","length","undefined","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","nanoid","_jsxs","children","_jsx","Loader","className","styles","e","preventDefault","value","htmlFor","ref","name","onChange","_ref2","target","type","autoComplete","autoFocus","placeholder","required","itemMovie","setItemMovie","location","useLocation","MovieSearch","map","title","original_name","poster_path","Link","to","concat","state","from","src","alt","instance","axios","baseURL","params","api_key","getTrendingMovies","getMoviesById","movies","abrupt","_x","_callee2","_context2","_x2","getMovieCredits","_callee3","_context3","_x3","getMovieReviews","_ref4","_callee4","_context4","_x4","Audio","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClass"],"sourceRoot":""}